#
# TABLEFS_REQUIRED_PACKAGES: pkg depends to find with find_dependency()
#
set (TABLEFS_REQUIRED_PACKAGES "@TABLEFS_REQUIRED_PACKAGES@")
set (TABLEFS_ALL_COMPONENTS ${TABLEFS_REQUIRED_PACKAGES})

set (TABLEFS_PORT_LEVELDB "@TABLEFS_PORT_LEVELDB@")
set (TABLEFS_PORT_KVRANGE "@TABLEFS_PORT_KVRANGE@")

# if you have depends, uncomment and add them: "find_dependency(Foo 2.4.1)"
include (CMakeFindDependencyMacro)

foreach (lcv ${TABLEFS_REQUIRED_PACKAGES})
    find_dependency (${lcv})
endforeach ()

# check for user requested components (which we map to linked in packages)
foreach (comp ${tablefs_FIND_COMPONENTS})
    if (NOT ";${TABLEFS_ALL_COMPONENTS};" MATCHES ";${comp};")
        set(tablefs_FOUND False)
        set(tablefs_NOT_FOUND_MESSAGE
                "Specified unsupported component: ${comp}")
    endif()
endforeach()

# foreign db backend needed if we are port to it
if (TABLEFS_PORT_LEVELDB)
    find_dependency (Leveldb)
endif ()
if (TABLEFS_PORT_KVRANGE)
    find_dependency (Kvrange)
endif ()

include ("${CMAKE_CURRENT_LIST_DIR}/tablefs-targets.cmake")

